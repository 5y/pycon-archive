
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" xml:lang="en-us" lang="en-us">
    
<!-- Mirrored from us.pycon.org/2011/schedule/presentations/40/ by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 19 Jun 2013 18:26:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title>PyCon US 2011</title>
        <!--[if IE]><style>
            div {
                zoom: 1; /* trigger hasLayout */
            }
        </style><![endif]-->
        <link rel="stylesheet" href="/2011/site_media/static/css/reset.css" />
        <link rel="stylesheet" href="/2011/site_media/static/css/960.css" />
        <link rel="stylesheet" href="/2011/site_media/static/css/base.css" />
        <link rel="stylesheet" href="/2011/site_media/static/css/account.css" />
        <link rel="stylesheet" href="/2011/site_media/static/uni_form/uni-form.css" />
        
        
    <link rel="stylesheet" href="/2011/site_media/static/css/pycon.css" />
    <link rel="stylesheet" href="/2011/site_media/static/css/tabs.css" />
    <link rel="alternate" type="application/atom+xml" href="/2011/feed/general/" title="blog feed"/>
    
    <style>
        a.unbookmark {
            text-decoration: none;
            padding-left: 20px;
            background: url(/2011/site_media/static/img/star.png) no-repeat left;
        }
        a.bookmark {
            text-decoration: none;
            padding-left: 20px;
            background: url(/2011/site_media/static/img/star_unselected.png) no-repeat left;
        }
        div.slot {
            font-weight: bold;
        }
    </style>


    </head>

    <body class="full schedule">
        

        <div id="tabhead">
            
    <div id="heading">
        <img src="/2011/site_media/static/img/pycon_logo.gif" alt="pycon logo" />
        <h1><a href="/2011/">PyCon 2011 Atlanta</a></h1>
        <h2>March 9th&ndash;17th</h2>
    </div>

            

<div class="account-bar">

    <a href="/2011/account/login/">Log in</a> or <a href="/2011/account/signup/">Sign Up</a>

</div>
<div class="clear"></div>

            <div id="nav">
                
<ul>
    <li class="about_tab"><a href="/2011/about/">About</a></li>
    <li class="schedule_tab"><a href="/2011/schedule/">Schedule</a></li>
    <li class="speaker_tab"><a href="/2011/speaker/">Speakers</a></li>
    
    <li class="sprints_tab"><a href="/2011/sprints/">Sprints</a></li>
    <li class="volunteer_tab"><a href="/2011/volunteer/">Volunteer</a></li>
    <li class="tickets_tab"><a href="/2011/tickets/">Tickets</a></li>
    <li class="venue_tab"><a href="/2011/venue/">Venue</a></li>
    <li class="sponsors_tab"><a href="/2011/sponsors/">Sponsors</a></li>
    <li class="blog_tab"><a href="/2011/blog/">Blog</a></li>
</ul>

            </div>
        </div>

        
        <div id="body">
            <div id="wrapper">
                <div id="main">
                    <div id="subnav" class="clearfix"><div class="clearfix">
    <a href="/2011/schedule/tutorials/">Tutorial Schedule</a>
    |
    <a href="/2011/schedule/">Conference Schedule</a>
    |
    <a href="/2011/schedule/lists/talks/">List of Accepted Talks and Panels</a>
    |
    <a href="/2011/schedule/lists/posters/">List of Accepted Posters</a>
    |
    <a href="/2011/openspaces/index/">OpenSpaces</a>
</div></div>
                    

                    
    
    <h1>Mobile applications testing using Python - an experimental technique</h1>
    
    
        <p><a href="/2011/account/login/?next=/2011/schedule/presentations/40/">log in</a> to bookmark this presentaton</p>
    
    
    <div class="badges">
        
        
        <div class="clear"></div>
    </div>
    
    <div class="presentation_types">Novice / Talk</div>
    
    <div class="speakers">
        
        <a href="/2011/speaker/profile/71/">Eing Ong</a>
        
    </div>
    
    
        <div class="slot">March 11th 2:55 p.m. &ndash; 3:40 p.m.</div>
    
    
    <div class="description">This session presents an experimental approach that uses mobile simulators - BlackBerry™ and Android™ to run automated end-to-end tests using the Python™ programming language. We’ll walk through the testing process - from the basics of interacting with both device simulators, writing reusable tests on both these devices and executing these tests in PyUnit. Sample code is included.</div>
    
    <h3>Abstract</h3>
    
    <div class="abstract"><p>If you like to learn about how to interact with BlackBerry and Android mobile simulators, then this session is for you. A step-by-step demo with code snippets on how to automate native mobile applications from running a use case/test, validating your test and reporting test results, and using Python mobile simulators libraries.  The tests can be reused to run against different resolutions and the framework can be used for different mobile platforms.</p>
<p><b>Key Takeaways:  What benefits will attendees get from participating in your session</b></p>
<hr><ol>
<li>Know  what tools are available in BlackBerry, Android</li>
<li>Learn how to abstract device-dependent test implementation from test cases</li>
<li>See a demo of tests using native Address Book application on BlackBerry and Android.</li>
<li>One is able to quickly automate tests after this session</li>
</ol>
<p><b>Session Discussion Points</b></p>
<hr><p><b>1. Overview : Tools in device simulators</b></p>
<p>Outline what the tools are in Android and BlackBerry simulators that will help users interact with the simulators. E.g. For BlackBerry, there is fledgecontroller. For Android, there is adb.</p>
<p><b>2. Introduce bblib.py and androidlib.py</b></p>
<p>Show how we can abstract these tools using Python and provide common interaction interface with both devices. Demo examples of commonly used commands in both Python libraries.</p>
<pre>    def enter(string=None):
        """ If string is None, simulate Enter key in simulator. 

    def backspaces(count=1):
        """ Press backspaces specified by count."""

    def touch(xcoord, ycoord):
        """ Touch screen at (xcoord, ycoord)."""

    def thumbwheel(direction='up', count=1):

    def trackball(direction='left', count=1):</pre><p><b>3. Writing device independent tests</b></p>
<pre>       #1. Use python name typing to decide the device to use
       def getDevice(self):
           mobileDevice = testenv.getDevice()
           if mobileDevice == 'android':
               deviceClass = android.AndroidImpl()
           else:
               deviceClass = bb.BlackBerryImpl()
           log.debug('Device is ' + mobileDevice)
           return deviceClass 

       #2. Usecase implementation
      
       # On BlackBerry
       def login(username, password):
           enter(username)
           thumbwheel('down',1)
           enter(password)
           thumbwheel('down',1)
           enter()

      #3. Testcases (device independent) for Login

      class LoginBAT(unittest.TestCase):
          device = testlib.testenv.getDevice()

          def testIncorrectUsername():
              self.device.login(incorrectUser, correctPin)
              self.assertTrue(imagelib.compare(self.device,\
              self._testMethodName, '100%x40%+0+35%'))

          def testSuccessfulLogin():
              self.device.login(correctUser,correctPin)
              self.assertTrue(imagelib.compare(self.device,\
              self._testMethodName, '100%x40%+0+35%'))

     Test assertion use imagelib.py - takes screenshot of current
     image and compare with expected image with crop settings and 
     tolerance level using ImageMagick. 

     def compare(device, image, cropSettings=None, tolerance=500):

     #4. Run test, showing assertion results.</pre><p><b>4. Summary : Test Framework</b></p>
<p>Walkthrough test framework architecture (diagram will be included). Lowest level is test utilities - imagelib.py, logger.py testlib.py (exceptions handling etc.). </p>
<p>Next up is device simulator libraries - bblib.py, androidlib.py containing device controls. </p>
<p>Above this is application use case implementation, followed by end-to-end device independent tests. </p>
<p>Finally, at the top layer is test runner and reporting framework.</p>
<p><b>5. Advantages and Limitations</b></p>
<p>Advantages</p>
<pre>- Zero startup cost low cost of maintenance
- Can be agile
- Full control of the devices
- No sharing or scheduling of resources
- Reuse of tests for different resolutions, OS and devices.</pre><p>Limitations</p>
<pre>- Device simulator is not suitable for hardware (e.g. blue tooth,
  multimedia) and network configurations testing.
- Does not simulate actual performance.
- Does not test dynamic images or results well.</pre></div>


                </div>
                <div id="right">
                    
                </div>
                <div class="clear"></div>
            </div>
        </div>
        

        <div id="footer"><div id="footer-content">
    Site built by <a href="http://eldarion.com/"><b>Eldarion</b></a> using
    <a href="http://djangoproject.com/"><b>Django</b></a> and
    <a href="http://pinaxproject.com/"><b>Pinax</b></a>.
</div></div>

        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="/2011/site_media/static/js/base.js" type="text/javascript"></script>
        <script src="/2011/site_media/static/uni_form/uni-form.jquery.js" type="text/javascript"></script>
        
            
    <script type="text/javascript">
        $(document).ready(function() {
            $("a.bookmark").live("click", function() {
                aElem = $(this);
                $.ajax({
                    type: "POST",
                    url: this.href,
                    data: "action=add;csrfmiddlewaretoken=4def7bf91c1248521b986424ea5596db",
                    success: function() {
                        aElem.text("unbookmark");
                        aElem.removeClass("bookmark");
                        aElem.addClass("unbookmark");
                    },
                    error: function(xhr, options, error) {
                        alert(xhr.status);
                    }
                });
                return false;
            });
            $("a.unbookmark").live("click", function() {
                aElem = $(this);
                $.ajax({
                    type: "POST",
                    url: this.href,
                    data: "action=delete;csrfmiddlewaretoken=4def7bf91c1248521b986424ea5596db",
                    success: function(response) {
                        aElem.text("bookmark");
                        aElem.removeClass("unbookmark");
                        aElem.addClass("bookmark");
                    },
                    error: function(xhr, options, error) {
                        alert(xhr.status);
                    }
                });
                return false;
            });
        });
    </script>

        
    </body>

<!-- Mirrored from us.pycon.org/2011/schedule/presentations/40/ by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 19 Jun 2013 18:26:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>
